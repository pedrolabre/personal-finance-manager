<UserControl x:Class="PersonalFinanceManager.Views.Importacao.ImportacaoView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Título -->
            <TextBlock Grid.Row="0"
                       Text="Importar Dados"
                       Style="{StaticResource TitleTextBlockStyle}"
                       Margin="0,0,0,30"/>

            <!-- Card de Importação -->
            <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="Selecione o arquivo para importar"
                               Style="{StaticResource FormLabelStyle}"/>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,20">
                        <TextBox Text="{Binding CaminhoArquivo, UpdateSourceTrigger=PropertyChanged}"
                                 IsReadOnly="True"
                                 Width="300"
                                 Height="40"
                                 Padding="10"
                                 BorderBrush="{StaticResource BorderColor}"
                                 BorderThickness="1"/>
                        <Button Content="Procurar..."
                                Command="{Binding ProcurarArquivoCommand}"
                                Style="{StaticResource SecondaryButtonStyle}"
                                Margin="10,0,0,0"
                                Width="120"/>
                    </StackPanel>

                    <TextBlock Text="Formato suportado: CSV (extrato bancário, fatura, etc.)"
                               Foreground="#888"
                               Margin="0,0,0,10"/>

                    <TextBlock Text="Pré-visualização do arquivo:"
                               Style="{StaticResource FormLabelStyle}"/>
                    <DataGrid ItemsSource="{Binding PreviewLinhas}"
                              AutoGenerateColumns="True"
                              Height="180"
                              Margin="0,10,0,0"
                              IsReadOnly="True"
                              CanUserAddRows="False"
                              CanUserDeleteRows="False"/>
                </StackPanel>
            </Border>

            <!-- Botões de Ação -->
            <StackPanel Grid.Row="2"
                       Orientation="Horizontal"
                       HorizontalAlignment="Right"
                       Margin="0,20,0,0">
                <Button Content="Cancelar"
                        Command="{Binding CancelarCommand}"
                        Style="{StaticResource SecondaryButtonStyle}"
                        Width="120"
                        Margin="0,0,10,0"/>
                <Button Content="Importar"
                        Command="{Binding ImportarCommand}"
                        Style="{StaticResource PrimaryButtonStyle}"
                        Width="120"
                        IsEnabled="{Binding PodeImportar}"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl>
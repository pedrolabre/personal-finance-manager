<UserControl x:Class="PersonalFinanceManager.Views.Relatorios.RelatoriosView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Título -->
            <TextBlock Grid.Row="0"
                       Text="Relatórios"
                       Style="{StaticResource TitleTextBlockStyle}"
                       Margin="0,0,0,30"/>

            <!-- Card de Filtros e Geração -->
            <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="Selecione o tipo de relatório e período"
                               Style="{StaticResource FormLabelStyle}"/>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,20" VerticalAlignment="Center">
                        <ComboBox ItemsSource="{Binding TiposRelatorio}"
                                  SelectedItem="{Binding TipoRelatorioSelecionado}"
                                  DisplayMemberPath="NomeAmigavel"
                                  Width="200"
                                  Margin="0,0,10,0"/>
                        <DatePicker SelectedDate="{Binding DataInicio}"
                                    Width="140"
                                    Margin="0,0,10,0"/>
                        <TextBlock Text="até" VerticalAlignment="Center" Margin="0,0,10,0"/>
                        <DatePicker SelectedDate="{Binding DataFim}"
                                    Width="140"/>
                    </StackPanel>
                    <Button Content="Gerar Relatório"
                            Command="{Binding GerarRelatorioCommand}"
                            Style="{StaticResource PrimaryButtonStyle}"
                            Width="180"
                            HorizontalAlignment="Right"/>
                </StackPanel>
            </Border>

            <!-- Área de Exibição do Relatório -->
            <Border Grid.Row="2" Style="{StaticResource CardStyle}" Margin="0,20,0,0">
                <StackPanel>
                        <TextBlock Text="{Binding RelatorioVisual}" TextWrapping="Wrap" Margin="0,0,0,10"/>
                        <Button Content="Abrir Pasta"
                            Command="{Binding AbrirPastaRelatorioCommand}"
                            Style="{StaticResource PrimaryButtonStyle}"
                            Width="140"
                            HorizontalAlignment="Left"
                            IsEnabled="{Binding UltimoCaminhoRelatorio, Converter={StaticResource NullOrEmptyToBoolConverter}}"/>
                        <Button Content="Abrir Arquivo"
                            Command="{Binding AbrirArquivoRelatorioCommand}"
                            Style="{StaticResource PrimaryButtonStyle}"
                            Width="140"
                            HorizontalAlignment="Left"
                            Margin="10,0,0,0"
                            IsEnabled="{Binding UltimoCaminhoRelatorio, Converter={StaticResource NullOrEmptyToBoolConverter}}"/>
                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>